# 概要
麻雀アプリゲーム「雀魂」を用いたPUCという団体内で行われたチーム戦の大会の集計ツール。
雀魂の対戦結果jsonを集計し、googleスプレッドシートに集計するpythonプログラムを作成する。

## 対戦ルール
四麻部門と三麻部門がある。
チームの勝敗の他に、個人への表彰がある。
詳細は mahjong.tex ないし mahjong.pdf を参照

## 備考
以前同じルールで大会が行われたときには、excelファイルに結果を集計していた。
そのときには code/main_old.py を使用していた。これを参考にする。

## 出力先
Googleスプレッドシート: https://docs.google.com/spreadsheets/d/1whqVie4Ql2R2NqtNZKGOB1i1rJVF9jnDXhzzYlQJqAs/

## 処理対象
- 四麻の対戦結果: code/paifu/4/ ディレクトリ内のJSONファイル
- 三麻の対戦結果: code/paifu/3/ ディレクトリ内のJSONファイル
両方を処理する。

## チームメンバー情報
code/credential/members.json に記載。
- 対戦結果JSONのプレイヤー名は "game_name" フィールドと照合
- スプレッドシートには "name" フィールドの値を記載
- チーム名も同じファイルに含まれる

## 役の名前
code/constants/fans.json から取得する。

## 実装メモ
- 1試合につき1つのシートを作る。シート名は「【四麻】第1試合」「【三麻】第1試合」のような形式とする。数字にはjsonのファイル名である数字が入る。
- 総合結果シートは「【四麻】総合結果」「【三麻】総合結果」の形式とする。
- プレイヤーデータシートは「【四麻】プレイヤーデータ」「【三麻】プレイヤーデータ」の形式とする。
- 出力形式はmain_old.pyのExcel出力と同様のレイアウトとする。
- プレイヤー名の表示は「HN」とする。
- 思考時間とスタンプは集計対象外とする。
- 適切な罫線を引く。

### ファイル構成
code 配下にプログラムを作成する。
main.py に集計用プログラムを書く。必要に応じて複数ファイルに分ける。

### クレデンシャル
スプレッドシートのAPIに必要なクレデンシャルは、code/credential/google_service_account.json にある。



